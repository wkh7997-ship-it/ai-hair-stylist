<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AI í—¤ì–´ ìŠ¤íƒ€ì¼ ì²´í—˜</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --primary: #9b8bff;
      --primary-strong: #5c6bff;
      --accent-pink: #ff7ac3;
      --bg-deep: #050616;
      --bg-top: #11152b;
      --glass: rgba(10, 14, 32, 0.96);
      --text-main: #f9fafb;
      --text-sub: #cbd5f5;
      --border-soft: rgba(148, 163, 255, 0.4);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
      background:
        radial-gradient(circle at top, #1f2937 0, transparent 55%),
        radial-gradient(circle at bottom, #111827 0, #020617 65%);
      color: var(--text-main);
    }

    .shell {
      width: 100%;
      max-width: 520px;
      border-radius: 24px;
      border: 1px solid var(--border-soft);
      background:
        radial-gradient(circle at top left, rgba(148, 163, 255, 0.14), transparent 60%),
        radial-gradient(circle at bottom right, rgba(94, 234, 212, 0.06), transparent 65%),
        var(--glass);
      box-shadow:
        0 24px 60px rgba(15, 23, 42, 0.9),
        0 0 0 1px rgba(15, 23, 42, 0.9);
      padding: 20px 18px 24px;
    }

    .header {
      margin-bottom: 18px;
    }

    .title-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }

    .title-main {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.03em;
    }

    .title-main span {
      color: var(--primary);
    }

    .badge {
      padding: 4px 10px;
      font-size: 11px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 255, 0.5);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-sub);
      white-space: nowrap;
    }

    .subtitle {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-sub);
      line-height: 1.5;
    }

    .section-card {
      border-radius: 20px;
      border: 1px solid rgba(148, 163, 255, 0.35);
      background: radial-gradient(circle at top, rgba(148, 163, 255, 0.12), rgba(15, 23, 42, 0.98));
      padding: 14px 14px 16px;
      margin-bottom: 14px;
    }

    .section-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .section-sub {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 10px;
      line-height: 1.5;
    }

    .upload-box {
      border-radius: 16px;
      border: 1px dashed rgba(148, 163, 255, 0.7);
      background: rgba(15, 23, 42, 0.9);
      padding: 16px 12px;
      text-align: center;
      cursor: pointer;
      transition: border-color 0.2s, background 0.2s, transform 0.08s;
    }

    .upload-box:hover {
      border-color: var(--primary-strong);
      background: rgba(15, 23, 42, 0.98);
      transform: translateY(-1px);
    }

    .upload-icon {
      font-size: 30px;
      margin-bottom: 4px;
    }

    .upload-main {
      font-size: 13px;
      font-weight: 600;
    }

    .upload-sub {
      font-size: 11px;
      color: var(--text-sub);
      margin-top: 3px;
    }

    #photoInput {
      display: none;
    }

    .thumb-wrap {
      margin-top: 10px;
      display: flex;
      justify-content: center;
    }

    #thumbPreview {
      max-width: 190px;
      max-height: 190px;
      border-radius: 14px;
      border: 1px solid rgba(148, 163, 255, 0.55);
      object-fit: cover;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.9);
    }

    .field-label {
      font-size: 12px;
      color: var(--text-sub);
      margin: 8px 0 4px;
    }

    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      min-width: 60px;
      padding: 7px 14px;
      font-size: 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 255, 0.5);
      background: rgba(15, 23, 42, 0.96);
      color: var(--text-sub);
      text-align: center;
      cursor: pointer;
      transition: background 0.18s, color 0.18s, border-color 0.18s, transform 0.08s;
    }

    .chip.active {
      background: radial-gradient(circle at top, var(--primary), var(--primary-strong));
      color: #fff;
      border-color: transparent;
      box-shadow: 0 10px 24px rgba(79, 70, 229, 0.75);
      transform: translateY(-1px);
    }

    .primary-btn {
      width: 100%;
      margin-top: 12px;
      padding: 13px;
      border-radius: 999px;
      border: none;
      font-size: 14px;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(135deg, var(--accent-pink), var(--primary-strong));
      box-shadow: 0 16px 40px rgba(79, 70, 229, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      cursor: pointer;
      transition: filter 0.12s, transform 0.08s, box-shadow 0.12s;
    }

    .primary-btn:disabled {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .primary-btn:not(:disabled):active {
      transform: translateY(1px);
      box-shadow: 0 8px 24px rgba(79, 70, 229, 0.6);
      filter: brightness(0.96);
    }

    .status {
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-sub);
      min-height: 14px;
    }

    .note {
      margin-top: 10px;
      font-size: 10px;
      color: var(--text-sub);
      line-height: 1.5;
    }

    .note + .note {
      margin-top: 2px;
    }
  </style>
</head>
<body>
  <div class="shell">
    <!-- í—¤ë” -->
    <div class="header">
      <div class="title-row">
        <div class="title-main">AI í—¤ì–´ <span>ìŠ¤íƒ€ì¼ ì²´í—˜</span></div>
        <div class="badge">ë² íƒ€</div>
      </div>
      <p class="subtitle">
        ì…€ì¹´ í•œ ì¥ìœ¼ë¡œ 3ê°€ì§€ í—¤ì–´ìŠ¤íƒ€ì¼ì„ ë¯¸ë¦¬ í™•ì¸í•´ ë³´ì„¸ìš”.<br />
        ë¯¸ìš©ì‹¤ì—ì„œ ê³ ê° ìƒë‹´ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ì¢‹ì€ ì „ìš© í™”ë©´ì…ë‹ˆë‹¤.
      </p>
    </div>

    <!-- 1. ì‚¬ì§„ ì„ íƒ -->
    <div class="section-card">
      <div class="section-title">1. ì‚¬ì§„ ì„ íƒ</div>
      <p class="section-sub">
        ì•ëª¨ìŠµì´ ì˜ ë‚˜ì˜¨ ì‚¬ì§„ì„ ì´¬ì˜í•˜ê±°ë‚˜, ê°¤ëŸ¬ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.  
        ì–¼êµ´ ì „ì²´ê°€ ì •ë©´ì— ê°€ê¹ê²Œ ë‚˜ì˜¤ë©´ ë” ìì—°ìŠ¤ëŸ½ê²Œ ë³´ì…ë‹ˆë‹¤.
      </p>

      <div id="uploadBox" class="upload-box">
        <div class="upload-icon">ğŸ“·</div>
        <div class="upload-main">ì‚¬ì§„ ì—…ë¡œë“œ / ì´¬ì˜í•˜ê¸°</div>
        <div class="upload-sub">ëˆŒëŸ¬ì„œ ì¹´ë©”ë¼ ë˜ëŠ” ê°¤ëŸ¬ë¦¬ë¥¼ ì—´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </div>
      <input type="file" id="photoInput" accept="image/*" />

      <div class="thumb-wrap" id="thumbWrap" style="display:none;">
        <img id="thumbPreview" alt="ê³ ê° ì‚¬ì§„ ë¯¸ë¦¬ë³´ê¸°" />
      </div>
    </div>

    <!-- 2. ê¸°ë³¸ ì •ë³´ -->
    <div class="section-card">
      <div class="section-title">2. ê¸°ë³¸ ì •ë³´</div>

      <div class="field-label">ì„±ë³„</div>
      <div class="chip-row" id="genderRow">
        <div class="chip active" data-gender="ì—¬ì„±">ì—¬ì„±</div>
        <div class="chip" data-gender="ë‚¨ì„±">ë‚¨ì„±</div>
      </div>

      <div class="field-label" style="margin-top:10px;">í˜„ì¬ ë¨¸ë¦¬ ê¸¸ì´</div>
      <div class="chip-row" id="lengthRow">
        <div class="chip active" data-length="ì§§ìŒ">ì§§ìŒ</div>
        <div class="chip" data-length="ì¤‘ê°„">ì¤‘ê°„</div>
        <div class="chip" data-length="ê¹€">ê¹€</div>
      </div>
    </div>

    <button id="nextBtn" class="primary-btn" disabled>
      <span>ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™</span>
    </button>
    <div id="status" class="status"></div>

    <p class="note">
      * ì§€ê¸ˆì€ í…ŒìŠ¤íŠ¸ ë‹¨ê³„ë¡œ, ì‹¤ì œ ìŠ¤íƒ€ì¼ ë³€í™” ëŒ€ì‹  ê°™ì€ ì‚¬ì§„ì´ 3ê°€ì§€ ìŠ¤íƒ€ì¼ ìŠ¬ë¡¯ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.
    </p>
    <p class="note">
      * ë‚˜ì¤‘ì— AI í—¤ì–´ ë³€í™˜ ëª¨ë¸ì´ ì—°ê²°ë˜ë©´, ìŠ¤íƒ€ì¼ë³„ë¡œ ë¨¸ë¦¬ ëª¨ì–‘ì´ ì‹¤ì œë¡œ ë‹¬ë¼ì§‘ë‹ˆë‹¤.
    </p>
  </div>

  <script>
    const uploadBox = document.getElementById("uploadBox");
    const photoInput = document.getElementById("photoInput");
    const thumbWrap = document.getElementById("thumbWrap");
    const thumbPreview = document.getElementById("thumbPreview");
    const nextBtn = document.getElementById("nextBtn");
    const status = document.getElementById("status");

    let imageBase64 = null;
    let gender = "ì—¬ì„±";
    let length = "ì§§ìŒ";

    // ì‚¬ì§„ ì—…ë¡œë“œ UI
    uploadBox.addEventListener("click", () => {
      photoInput.click();
    });

    photoInput.addEventListener("change", (e) => {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = (event) => {
        imageBase64 = event.target.result;
        thumbPreview.src = imageBase64;
        thumbWrap.style.display = "flex";
        nextBtn.disabled = false;
        status.textContent = "ì‚¬ì§„ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤. ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
      };
      reader.readAsDataURL(file);
    });

    // ì„±ë³„ ì„ íƒ
    document.querySelectorAll("#genderRow .chip").forEach((chip) => {
      chip.addEventListener("click", () => {
        document.querySelectorAll("#genderRow .chip").forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
        gender = chip.dataset.gender;
      });
    });

    // ê¸¸ì´ ì„ íƒ
    document.querySelectorAll("#lengthRow .chip").forEach((chip) => {
      chip.addEventListener("click", () => {
        document.querySelectorAll("#lengthRow .chip").forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
        length = chip.dataset.length;
      });
    });

    // ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™
    nextBtn.addEventListener("click", () => {
      if (!imageBase64) {
        alert("ë¨¼ì € ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ ì£¼ì„¸ìš”.");
        return;
      }

      // ğŸ”¹ ì—¬ê¸° localStorage í‚¤ ì´ë¦„ì€ ë„¤ê°€ ì“°ê³  ìˆëŠ” result.html ê·œì¹™ì— ë§ê²Œ
      // í•„ìš”í•˜ë©´ ë°”ê¿”ë„ ë¨.
      localStorage.setItem("hair_image_base64", imageBase64);
      localStorage.setItem("hair_gender", gender);
      localStorage.setItem("hair_length", length);

      status.textContent = "ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤...";
      window.location.href = "result.html";
    });
  </script>
</body>
</html>
