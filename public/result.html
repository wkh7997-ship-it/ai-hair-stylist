<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AI ìŠ¤íƒ€ì¼ ê²°ê³¼ ë³´ê¸°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --card: #0b1220;
      --accent: #f97316;
      --border: #1e293b;
      --text-main: #f9fafb;
      --text-sub: #9ca3af;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background: radial-gradient(circle at top, #020617, #020617 55%, #000);
      color: var(--text-main);
      min-height: 100vh;
      display:flex;
      justify-content:center;
      padding:16px 10px;
    }
    .app {
      width:100%;
      max-width:480px;
      background:#020617;
      border-radius:28px;
      border:1px solid #1e293b;
      box-shadow:0 18px 40px rgba(15,23,42,0.9);
      padding:14px 14px 10px;
      display:flex;
      flex-direction:column;
    }
    header {
      display:flex; align-items:center; gap:10px;
      padding:6px 4px 10px;
      border-bottom:1px solid rgba(15,23,42,0.9);
      margin-bottom:10px;
    }
    .back-btn {
      font-size:20px;
      width:28px; height:28px;
      border-radius:999px;
      border:1px solid #1f2937;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      margin-right:4px;
    }
    .title-wrap { display:flex; flex-direction:column; gap:2px; }
    .title { font-size:16px; font-weight:600; }
    .sub { font-size:11px; color:var(--text-sub); }
    main { flex:1; display:flex; flex-direction:column; gap:10px; }
    .card {
      background:var(--card);
      border-radius:20px;
      border:1px solid var(--border);
      padding:12px 11px;
    }
    .card-title { font-size:14px; font-weight:600; margin-bottom:6px; }
    .card-caption { font-size:11px; color:var(--text-sub); margin-bottom:10px; }

    .base-photo {
      display:flex;
      gap:8px;
      align-items:center;
      margin-bottom:10px;
    }
    .base-photo img {
      width:80px; height:110px;
      border-radius:10px;
      border:1px solid rgba(148,163,255,0.7);
      object-fit:cover;
    }
    .base-photo-text { font-size:11px; color:var(--text-sub); }

    .grid {
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .style-card {
      background:#020617;
      border-radius:16px;
      border:1px solid #1f2937;
      padding:8px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .style-name {
      font-size:12px;
      font-weight:500;
    }
    .style-img {
      width:100%;
      max-height:340px;
      border-radius:12px;
      border:1px solid rgba(148,163,255,0.8);
      object-fit:cover;
    }

    .btn-row {
      display:flex;
      gap:8px;
      margin-top:10px;
    }
    .btn-primary, .btn-secondary {
      flex:1;
      padding:10px;
      border-radius:999px;
      border:none;
      font-size:13px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      cursor:pointer;
    }
    .btn-primary {
      background:linear-gradient(135deg, var(--accent), #ea580c);
      color:#fff;
    }
    .btn-secondary {
      background:#020617;
      color:var(--text-sub);
      border:1px solid #1f2937;
    }
    .foot {
      margin-top:4px;
      font-size:10px;
      color:var(--text-sub);
      text-align:right;
    }
    .empty {
      font-size:12px;
      color:var(--text-sub);
      text-align:center;
      margin-top:40px;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="back-btn" onclick="goBack()">
        â†
      </div>
      <div class="title-wrap">
        <div class="title">AI ìŠ¤íƒ€ì¼ ê²°ê³¼</div>
        <div class="sub">ì†ë‹˜ê»˜ í™”ë©´ë§Œ ë³´ì—¬ì£¼ê³  ìŠ¤íƒ€ì¼ì„ ê³¨ë¼ë³´ì„¸ìš”.</div>
      </div>
    </header>

    <main>
      <section class="card" id="resultSection">
        <div class="card-title">ì¶”ì²œ ìŠ¤íƒ€ì¼ 3ê°€ì§€</div>
        <p class="card-caption">í˜„ì¬ëŠ” í…ŒìŠ¤íŠ¸ ë‹¨ê³„ë¼ ê°™ì€ ì‚¬ì§„ì´ ë°˜ë³µë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

        <div class="base-photo" id="basePhotoBlock" style="display:none;">
          <img id="basePhoto" alt="ì›ë³¸ ì‚¬ì§„" />
          <div class="base-photo-text">
            í˜„ì¬ ê³ ê° ì‚¬ì§„ì…ë‹ˆë‹¤.<br/>
            ì´ ì‚¬ì§„ì„ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤íƒ€ì¼ì„ ê°€ìƒ ì ìš©í–ˆìŠµë‹ˆë‹¤.
          </div>
        </div>

        <div id="stylesGrid" class="grid"></div>

        <div id="emptyState" class="empty" style="display:none;">
          ë¶ˆëŸ¬ì˜¬ ìŠ¤íƒ€ì¼ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.<br />
          ì²˜ìŒ í™”ë©´ì—ì„œ ë‹¤ì‹œ ìŠ¤íƒ€ì¼ì„ ìƒì„±í•´ ì£¼ì„¸ìš”.
        </div>

        <div class="btn-row">
          <button class="btn-secondary" onclick="goBack()">
            ë‹¤ì‹œ ì´¬ì˜ / ë‹¤ì‹œ ì„ íƒ
          </button>
          <button class="btn-primary" onclick="goProducts()">
            ğŸ› ì¶”ì²œ ìƒí’ˆ ë³´ê¸°
          </button>
        </div>
        <div class="foot">* ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ë§í¬ê°€ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
      </section>
    </main>
  </div>

  <script>
    function goBack() {
      window.location.href = "/";
    }
    function goProducts() {
      window.location.href = "/products.html";
    }

    // sessionStorageì—ì„œ ê²°ê³¼ ê°€ì ¸ì˜¤ê¸°
    const stylesJson = sessionStorage.getItem("hairStyles");
    const basePhoto = sessionStorage.getItem("basePhoto");
    const stylesGrid = document.getElementById("stylesGrid");
    const emptyState = document.getElementById("emptyState");
    const basePhotoBlock = document.getElementById("basePhotoBlock");
    const basePhotoImg = document.getElementById("basePhoto");

    if (!stylesJson) {
      emptyState.style.display = "block";
    } else {
      const styles = JSON.parse(stylesJson);
      stylesGrid.innerHTML = "";
      styles.forEach((style, idx) => {
        const card = document.createElement("div");
        card.className = "style-card";
        card.innerHTML = `
          <div class="style-name">${style.name || `ìŠ¤íƒ€ì¼ ${idx + 1}`}</div>
          <img class="style-img" src="${style.image}" alt="ìŠ¤íƒ€ì¼ ${idx + 1}" />
        `;
        stylesGrid.appendChild(card);
      });
      if (basePhoto) {
        basePhotoBlock.style.display = "flex";
        basePhotoImg.src = basePhoto;
      }
    }
  </script>
</body>
</html>
